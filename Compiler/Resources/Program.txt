func test() as void => {
    var x <- 45;

    var tok <- new Token { plus = void };

    var z <- (tok is plus) or (tok is minus);

    # var x <- match tok 
    #     if eof   then 4
    #     if plus  then 7
    #     if minus then 5
    #              else 2;

    void;
};

union Token {
    eof         as void;
    plus        as void;
    minus       as void;
    multiply    as void;
    open_paren  as void;
    close_paren as void;
    int_literal as int;
};

func test1 (x as int) as int => test2(x) + 4;

func test2 (y as int) as int => y*2 + 1;

func selection_sort(arr as array[int, var]) as void => { 
    # Find the smallest element and put it in position i
    for i = 0 to arr.size-1 do {
        var smallest <- arr[i];
        var smallest_index <- i;

        # Find the smallest element
        for j = i + 1 to arr.size-1 do {
            if arr[j] < smallest do {
                @smallest_index <- j;
                @smallest <- arr[j];
            };
        };

        # Swap the smallest with the ith position
        ref swap <- arr[i];

        arr@[i] <- smallest;
        arr@[smallest_index] <- swap;
    };
};